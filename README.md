# RPN Calculator - M3

Небольшой консольный калькулятор обратной польской нотации (RPN).

## Возможности

* Базовые операции: `+  -  *  /  //  %  **`
* Скобки для группировки RPN-подвыражений: пример — `( 3 4 + ) ( 5 2 - ) *`
* Числа: целые и вещественные, поддерживаются подчёркивания: `1_000`, `3.14_159`
* Сообщения об ошибках: "пустой ввод", "нехватает операндов", "деление на ноль", "несоответствие скобок" и т.д.

## Допущения

* Унарные `+`/`-` входят в число: `-78`, `+5` (а не отдельные токены).
* `//` и `%` работают как в Python и допускают float-ы, деление на ноль запрещено.
* Выражения вида `-2 0.5 **` не поддерживают мнимые числа - будет ошибка "No solution in real numbers...".

## Примеры

```
6 2 +                 = 8
( 3 ( 2 1 + ) * )     = 9
2_000_000 2_000 +     = 2002000
( 3 4 + ) ( 5 2 - ) * = 21
```

## Установка и запуск

```bash
python -m venv .venv
# Windows: .venv\Scripts\activate
# Linux/Mac: source .venv/bin/activate

pip install -r requirements.txt

pre-commit install
python -m src.main
```

## Структура проекта

```
.
├── src/
│   ├── main.py         # точка входа (функция main)
│   ├── calculator.py   # движок вычислений
│   ├── parser.py       # токенизация RPN
│   ├── errors.py       # CalcError
│   └── constants.py    # REGEX и текст для консольного интерфейса
├── tests/
    └── test_calculator.py # тесты
```

## Тесты

```bash
pytest
```

## Код-стайл и типы

* PEP8/ruff: `ruff check`
* Типы (mypy): `mypy src`
